# Hashtable

В этом задании вам предстоит реализовать свою хеш-таблицу. Это очень важная и часто используемая в информатике структура данных, например, тип *множество* `set` во многих языках программирования представляет из себя именно хеш-таблицу. В базовой части задания (расположенной в файле `hashtable.pas`) нужно разработать хеш-таблицу, хранящую в себе ключи `key` типа `integer`. Тип `integer` имеет очень простую хеш-функцию 

![equation](http://latex.codecogs.com/gif.latex?%5Cvarphi%28n%29%20%3D%20n%20%5C%3B%20mod%20%5C%3B%20m%5C%3B%20&plus;%5C%3B%201)

где `m` представляет из себя максимальный размер хеш-таблицы. Ваша хеш-таблица должна иметь следующий интерфейс:

* Функция `Add(key)` добавляет новый элемент в хеш-таблицу и возвращает `true` в случае успешного добавления, и `false`, если такой элемент уже есть, или же закончилось место;
* Функция `Delete(key)` удаляет элемент `key` из таблицы и возвращет `true` в случае успешного удаления, или же возвращает `false`, если такого элемента найти не удалось;
* Функция `Find(key)` должна возвращать `true`, если в хеш-таблице есть элемент со значением `key`, и `false` в противном случае;
* Функция `GetSize()` должна возвращать текущее количество элементов, хранящихся в хеш-таблице;
* Процедура `Clear()` очищает хеш-таблицу.

### Полезные ссылки

* [https://ru.wikipedia.org/wiki/hashtable](https://ru.wikipedia.org/wiki/%D0%A5%D0%B5%D1%88-%D1%82%D0%B0%D0%B1%D0%BB%D0%B8%D1%86%D0%B0)
* [https://ru.wikipedia.org/wiki/hash](https://ru.wikipedia.org/wiki/%D0%A5%D0%B5%D1%88%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)

Для простоты жизни в файле `hashtable.pas` уже написаны тесты, Ваша задача их пройти. Дополнительно требуется также реализовать процедуру

```pascal
    procedure MakePPrintLog(log_name: string);
```
которая должна печатать лог о текущем состоянии хеш таблицы в файл `state_logger.txt`, и каждый вызов которой должен *добавлять* лог в этот файл в формате:
* Сначала идет пустая строка, а затем запись
> *** NEW LOG : <log_name> ***
* Затем идет содержание бакетов, начиная с первого и до m-ного. Если бакет пустой, то его выводить не нужно. Содержание k-го непустого бакета отображается как
> [ BUCKET < k > ]: <содержание бакета через пробел>
* В конце записи лога всегда идет строка
> *** END OF LOG : <log_name> ***

Логирование можно протестировать при помощи функции `logger_test_run`, которая запускает тесты с логами и сравнивает Ваш результат с шаблонным. Шаблоны находятся в папке `logs` этой папки, можно явно ознакомиться с ними, чтобы лучше понять, что требуется.

## Hashtable string

В дополнительной части задания нужно специализировать Вашу хеш-таблицу под тип `string`. Нужно использовать уже написанный для `integer`-ов код. Обратите внимание, что в этом случае написать хеш-функцию вот так сразу уже не получится, ведь строки могут быть произвольной длины. В этой задачке мы будем пользоваться *полиномиальным хешем*, который можно посчитать как сумму

![equation](http://latex.codecogs.com/gif.latex?%5Cvarphi%28s%29%20%3D%20%5Csum%5Climits_%7Bi%20%3D%201%7D%5E%7Blength%28s%29%7D%20s_i%20*%20p%5E%7Bi%20-%201%7D%5C%3B%20mod%20%5C%3B%20m%20&plus;%201)

где `s_i` представляет из себя код i-го символа строки `s`, `length(s)` это длина строки `s`, а `m`, как и раньше, максимальный размер хеш-таблцы. Чтобы посчитать хеш, нужно найти значение этой суммы для некоторого `p`. Выбор этого числа предоставляется Вам.

В этой задаче также нужно дополнить самостоятельно функцию `test` своими тестами. В этой части задания **не нужно реализовывать логирование**! Лучше написать процедуру

```pascal
    procedure MakePPrint();
```
которая красиво выведет на экран текущее содержание хеш-таблицы. Эта нужно для дебага: процедура в задании не тестируется и никак не проверяется.